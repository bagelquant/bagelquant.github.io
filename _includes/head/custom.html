<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="BagelQuant" />
<link rel="manifest" href="/site.webmanifest" />

<link
	rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
	integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
	crossorigin="anonymous"
	referrerpolicy="no-referrer"
/>

{%- comment -%}
Open Graph & Twitter card metadata so LinkedIn / social platforms can pick a preview image.
- Priority for image selection: `page.image` -> `page.teaser` -> `page.overlay_image` -> `site.header.teaser` -> `site.teaser` -> `site.logo`.
Ensure absolute URL with `absolute_url` so scrapers can fetch the image.
{%- endcomment -%}

{%- assign og_image = "" -%}
{%- if page.image -%}
	{%- assign og_image = page.image -%}
{%- elsif page.teaser -%}
	{%- assign og_image = page.teaser -%}
{%- elsif page.overlay_image -%}
	{%- assign og_image = page.overlay_image -%}
{%- elsif page.header and page.header.overlay_image -%}
	{%- assign og_image = page.header.overlay_image -%}
{%- elsif page.header and page.header.teaser -%}
	{%- assign og_image = page.header.teaser -%}
{%- elsif site.header and site.header.teaser -%}
	{%- assign og_image = site.header.teaser -%}
{%- elsif site.teaser -%}
	{%- assign og_image = site.teaser -%}
{%- elsif site.logo -%}
	{%- assign og_image = site.logo -%}
{%- endif -%}

{%- if og_image and og_image != "" -%}
	<meta property="og:image" content="{{ og_image | absolute_url }}" />
	<meta name="twitter:image" content="{{ og_image | absolute_url }}" />
	<link rel="image_src" href="{{ og_image | absolute_url }}" />
{%- endif -%}

<meta property="og:title" content="{{ page.title | default: site.title }}" />
<meta property="og:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 200 }}" />
<meta property="og:url" content="{{ page.url | absolute_url }}" />
<meta property="og:site_name" content="{{ site.title }}" />
<meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ page.title | default: site.title }}" />
<meta name="twitter:description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 200 }}" />

{%- comment -%}
Author metadata: prefer `page.author` (string) and `page.author_url` (or link to About page), otherwise fall back to `site.author` values.
Include `name`, `article:author` (URL), `link rel=author`, and `twitter:creator` for broad scraper coverage.
{%- endcomment -%}

{%- assign author_name = page.author | default: site.author.name -%}
{%- assign author_url = page.author_url | default: '/about-me/' -%}
{%- if author_url and author_url != '' and author_url != author_name -%}
	{%- assign author_url = author_url | absolute_url -%}
{%- else -%}
	{%- assign author_url = '/about-me/' | absolute_url -%}
{%- endif -%}

<meta name="author" content="{{ author_name }}" />
<meta property="article:author" content="{{ author_url }}" />
<link rel="author" href="{{ author_url }}" />
{%- if site.twitter_username -%}
	<meta name="twitter:creator" content="@{{ site.twitter_username }}" />
{%- endif -%}
