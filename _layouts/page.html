---
layout: default
---

{% if page.header and page.header.overlay_image %}
  <header class="post-hero">
    <div class="post-header-cover">
      <img src="{{ page.header.overlay_image | relative_url }}" alt="{{ page.title }}" loading="lazy" />
      <div class="post-header-overlay container">
        <h1 class="post-title">{{ page.title }}</h1>
        {% if page.excerpt %}
          <p class="post-subtitle">{{ page.excerpt | strip_html }}</p>
        {% endif %}
      </div>
    </div>
  </header>
{% endif %}

<div class="layout-three-column post-layout">
  <aside class="page-sidebar">
    <div class="sidebar-inner">
      {% assign nav_key = page.nav | default: page.category %}
      {% assign nav_items = site.data.navigation[nav_key] %}

      {% if nav_items %}
        <h2>Navigation</h2>
        {% assign current = page.url %}
        <ul class="sidebar-nav">
          {% assign parent_index = 0 %}
          {% for item in nav_items %}
            {% assign parent_index = parent_index | plus: 1 %}
            <li>
              {% if item.url %}
                {% assign item_url = item.url %}
                <a href="{{ item_url | relative_url }}" class="{% if current == item_url or current contains item_url %}active{% endif %}">{{ parent_index }}. {{ item.title }}</a>
              {% else %}
                {{ parent_index }}. {{ item.title }}
              {% endif %}

              {% if item.children %}
                <div class="sidebar-nav-separator"></div>
                <ul class="sidebar-nav-children">
                  {% assign child_index = 0 %}
                  {% for child in item.children %}
                    {% assign child_index = child_index | plus: 1 %}
                    <li>
                      {% assign child_url = child.url %}
                      <a href="{{ child_url | relative_url }}" class="{% if current == child_url or current contains child_url %}active{% endif %}">{{ parent_index }}.{{ child_index }}. {{ child.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </aside>

  <main class="post-main">
    {% assign segments = page.url | split:'/' %}
    {% assign path = '' %}
    {% if segments.size > 1 %}
      <nav class="breadcrumb">
        <a href="{{ '/' | relative_url }}">Home</a>
        {% for segment in segments %}
          {% unless segment == '' or segment contains '.html' %}
            {% assign path = path | append:'/' | append:segment %}
            &nbsp;/&nbsp;
            <a href="{{ path | append:'/' | relative_url }}">{{ segment | replace:'-',' ' | capitalize }}</a>
          {% endunless %}
        {% endfor %}
      </nav>
    {% endif %}

    <article class="post container">
      {% unless page.header and page.header.overlay_image %}
        <header class="post-header">
          <h1 class="post-title">{{ page.title }}</h1>
        </header>
      {% endunless %}

      <div class="post-content numbered">
        {{ content }}
      </div>
    </article>
  </main>

  <aside class="page-toc">
    <div class="toc-inner"></div>
  </aside>
</div>
